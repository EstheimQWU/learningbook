# 020-python-下划线
5种下划线
1. 单前下划线**_var**
2. 单后下划线**var_**
3. 双前下划线**__var**
4. 双前后下划线**__var__**
5. 单下划线**_**

## 001 单前下划线，人懂，机器（不一定，但是大部分时候）不懂，约定
下划线前缀的含义是告知其他程序员：以单个下划线开头的变量或方法仅供内部使用。（来自PEP 8定义）

这个约定通常不会由机器来校验，然而在不同的python解释器实现中，会有不同的校验。因此也可能出现单前下划线被强制限制访问的情况。

例如在模块导入名称的过程中：
```python
# module
def function_test():
    print('111')

def _function_test():
    print('222')

from module import *
function_test()
_function_test()
```
在调用`_function_test()`的时候就会出现问题。

## 002 单后下划线，人懂，机器不懂，约定
这种情况不属于特殊情况，属于约定俗称的一种情况。

根据网络查询，大部分时候这种命名方法用于解决命名冲突的问题，然而只是在变量末尾加上这样一个下划线根本理解不了表达了什么。。因此这种解决方式仅限于解决关键字冲突。

## 003 双前下划线，人得懂，机器懂，然而机器不是真的懂，非约定
双下划线开头的命名会导致python解释器重写属性方法，避免子类中的命名冲突。（name mangling）-- 解释器更改变量的名称，以便在类被扩展的时候不容易产生冲突。

**解释器**会**亲自改变**这个属性的命名，她会以`_类名`+`__属性名`的方式重新命名这个属性。

这样做是为了防止变量在子类中被重写。

### 双下划线命名是否适用于方法？
适用

## 004 双前后下划线，人（可能）懂，机器懂，非约定
在python中属于魔法方法，如果自定义命名这样类型的属性或者方法，名称修饰（name mangling）不会触发。

由双下划线前缀和后缀包围的变量不会被Python解释器修改。

最好避免在python程序中使用这种命名方式，以回避在未来可能与python语言的语法产生冲突。

## 005 单下划线，人懂，机器不懂，约定
单下划线通常用于临时值，与“不被关心”的变量，类似于一种占位符。

> 除了用作临时变量之外，“_”是大多数Python REPL中的一个特殊变量，它表示由解释器评估的最近一个表达式的结果。

> 这样就很方便了，比如你可以在一个解释器会话中访问先前计算的结果，或者，你是在动态构建多个对象并与它们交互，无需事先给这些对象分配名字：
```python
>>> 20 + 3
23
>>> _
23
>>> print(_)
23
 
>>> list()
[]
>>> _.append(1)
>>> _.append(2)
>>> _.append(3)
>>> _
[1, 2, 3]
```

## 


